<h2 id="🔑-인증-인가의-개념">🔑 인증, 인가의 개념</h2>
<h3 id="📍인증authentication-식별-가능한-정보로-사용자가-누구인지-확인하는-절차">📍인증(Authentication): 식별 가능한 정보로 사용자가 누구인지 확인하는 절차</h3>
<h3 id="📍인가authorization--인증된-사용자가-특정-자원에-접근할-수-있는지-권한을-확인하는-절차">📍인가(Authorization) : 인증된 사용자가 특정 자원에 접근할 수 있는지 권한을 확인하는 절차</h3>
<p>어플리케이션 예시</p>
<p>사용자 게시판에 사용자가 로그인 : <code>인증이 적용</code> 
→ 사용자가 게시글을 추가, 수정, 삭제할 수 있다. 하지만 다른 사람의 글을 수정, 삭제 할 수는 없다 : <code>인가가 적용</code></p>
<h2 id="🔑-인증을-유지하는-방법--세션-토큰">🔑 인증을 유지하는 방법 : 세션, 토큰</h2>
<h3 id="📍세션">📍세션</h3>
<p>서버가 클라이언트와 상호작용을 유지하기 위해 <code>서버 내에 클라이언트의 상태 정보를 저장</code>하는 방식</p>
<h3 id="📍세션-방식-동작-과정">📍세션 방식 동작 과정</h3>
<ol>
<li>클라이언트가 서버에 최초로 접속하면, 서버는 새로운 세션 ID를 생성합니다.</li>
<li>서버는 생성한 세션 ID를 클라이언트에게 응답으로 전송합니다. 이때 세션 ID는 주로 쿠키를 통해 전달됩니다.</li>
<li>클라이언트는 받은 세션 ID를 쿠키에 저장합니다.</li>
<li>이후 클라이언트가 서버에 요청을 보낼 때마다, 저장된 세션 ID를 함께 전송합니다.</li>
<li>서버는 클라이언트가 보낸 세션 ID를 확인하여 해당 세션의 정보를 서버의 메모리나 데이터베이스에서 찾아 사용자를 식별합니다.</li>
<li>서버는 세션 정보를 바탕으로 적절한 응답을 클라이언트에게 보냅니다.</li>
<li>사용자가 로그아웃하거나 일정 시간이 지나면 서버는 해당 세션을 제거합니다.</li>
</ol>
<h3 id="📍토큰">📍토큰</h3>
<p>사용자 인증에 대한 정보가 담긴 징표</p>
<blockquote>
<p>💡Json Web Token
구조:</p>
</blockquote>
<ul>
<li>Header: 토큰 유형과 사용된 해시 알고리즘 정보</li>
<li>Payload: 클레임(claim)이라 불리는 엔티티와 추가 데이터</li>
<li>Signature: 헤더와 페이로드를 기반으로 생성된 서명</li>
</ul>
<h3 id="📍토큰-방식-동작-과정">📍토큰 방식 동작 과정</h3>
<ol>
<li>사용자가 아이디와 비밀번호로 로그인을 합니다.</li>
<li>서버는 제공된 credentials를 검증합니다.</li>
<li>검증이 성공하면, 서버는 사용자에게 고유한 토큰을 생성합니다. 이 토큰은 일반적으로 JWT(JSON Web Token)를 사용합니다.</li>
<li>서버는 생성된 토큰을 클라이언트에게 응답으로 전송합니다.</li>
<li>클라이언트는 받은 토큰을 저장합니다 (보통 로컬 스토리지나 쿠키에 저장).</li>
<li>이후 클라이언트가 서버에 요청을 보낼 때마다, 저장된 토큰을 요청 헤더에 포함시켜 전송합니다.</li>
<li>서버는 요청에 포함된 토큰을 검증하여 사용자를 인증합니다.</li>
<li>토큰이 유효하면 서버는 요청을 처리하고 응답을 보냅니다.</li>
<li>토큰이 만료되면 클라이언트는 새로운 토큰을 요청해야 합니다.</li>
</ol>
<h2 id="🔑-세션과-토큰-비교">🔑 세션과 토큰 비교</h2>
<ol>
<li>저장 위치:<ul>
<li>세션: 서버에 사용자 정보를 저장합니다.</li>
<li>토큰: 클라이언트에 토큰을 저장합니다(주로 로컬 스토리지나 쿠키).</li>
</ul>
</li>
<li>서버 부하:<ul>
<li>세션: 서버에 세션 정보를 저장하므로 서버에 부하가 발생할 수 있습니다.</li>
<li>토큰: 서버에 상태를 저장하지 않아 서버 부하가 적습니다.</li>
</ul>
</li>
<li>확장성:<ul>
<li>세션: 여러 서버를 사용할 경우 세션 관리에 추가 설정이 필요합니다.</li>
<li>토큰: 서버 확장이 용이합니다(stateless).</li>
</ul>
</li>
<li>보안:<ul>
<li>세션: 세션 ID만 탈취되면 보안에 취약할 수 있습니다.</li>
<li>토큰: 서명을 통해 위조를 방지할 수 있지만, 탈취 시 만료 전까지 사용 가능합니다.</li>
</ul>
</li>
<li>클라이언트 측 관리:<ul>
<li>세션: 서버가 세션을 관리합니다.</li>
<li>토큰: 클라이언트가 토큰을 관리해야 합니다.</li>
</ul>
</li>
<li>만료 처리:<ul>
<li>세션: 서버에서 쉽게 무효화할 수 있습니다.</li>
<li>토큰: 발급 후 만료 시간까지 계속 유효합니다(별도의 블랙리스트 관리 필요).</li>
</ul>
</li>
<li>리소스 접근:<ul>
<li>세션: 동일 도메인 내에서만 쉽게 사용 가능합니다.</li>
<li>토큰: 여러 도메인에서 사용하기 용이합니다(CORS 문제 해결).</li>
</ul>
</li>
</ol>
<p>💻 reference</p>
<pre><code>https://dream-and-develop.tistory.com/196</code></pre>